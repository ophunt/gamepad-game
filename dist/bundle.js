!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),n=document.getElementById("canvas"),r=new s.Game(n);window.onresize=r.setCanvasSize,r.main()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),n=i(4),r=function(){function t(t){var e=this;this.canvas=t,this.gameObjects=[],this.visibleObjects=[],this.getGamepad=function(){var t=navigator.getGamepads();t.length>0&&null!==t[0]&&(e.gamepad=t[0]),e.inputs=new n.GamepadInputs(e.gamepad)},this.updateInputs=function(){if(e.inputs){var t=navigator.getGamepads();return t.length>0&&null!==t[0]&&(e.gamepad=t[0]),e.inputs=new n.GamepadInputs(e.gamepad),!0}return!1},this.draw=function(){e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height);for(var t=0,i=e.visibleObjects;t<i.length;t++){i[t].draw(e.ctx)}},this.updateObjects=function(){if(e.updateInputs())for(var t=0,i=e.gameObjects;t<i.length;t++){i[t].update(e.inputs)}},this.gameLoop=function(){e.updateObjects(),e.draw(),requestAnimationFrame(e.gameLoop)},this.ctx=t.getContext("2d"),this.setCanvasSize(),this.player=new s.Player(10,10,"red",this),this.visibleObjects.push(this.player),this.gameObjects.push(this.player),window.addEventListener("gamepadconnected",function(){return e.getGamepad()})}return t.prototype.setCanvasSize=function(){this.canvas.width=window.innerWidth-10,this.canvas.height=window.innerHeight-10},t.prototype.main=function(){console.log("Game loaded!"),requestAnimationFrame(this.gameLoop)},t.prototype.getCanvasSize=function(){return[this.canvas.width,this.canvas.height]},t}();e.Game=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),n=function(){function t(t,e,i,n){this.x=t,this.y=e,this.color=i,this.game=n,this.sideLength=50,this.facing=s.Direction.Right,this.speed=3,this.radius=50,this.currentAngle=0,this.startAngle=null,this.netDistance=0,this.leftDistance=0,this.rightDistance=0}return t.prototype.update=function(e){e.a.pressed&&null===this.startAngle?this.startAngle=this.currentAngle:e.b.pressed&&null!==this.startAngle&&(this.startAngle=null,this.leftDistance=0,this.rightDistance=0,this.netDistance=0),e.x.pressed?this.color="blue":e.y.pressed&&(this.color="red");var i=0,n=0;e.dUp.pressed?(n--,this.facing=s.Direction.Up):e.dDown.pressed?(n++,this.facing=s.Direction.Down):e.dRight.pressed?(i++,this.facing=s.Direction.Right):e.dLeft.pressed?(i--,this.facing=s.Direction.Left):(Math.abs(e.leftXAxis.value)>.15||Math.abs(e.leftYAxis.value)>.15)&&(Math.abs(e.leftXAxis.value)>.15&&(i=e.leftXAxis.value),Math.abs(e.leftYAxis.value)>.15&&(n=e.leftYAxis.value),Math.abs(i)>Math.abs(n)?this.facing=i>0?s.Direction.Right:s.Direction.Left:this.facing=n>0?s.Direction.Down:s.Direction.Up),this.move(i,n),(e.leftTrigger.value>0||e.rightTrigger.value>0)&&(this.radius+=e.rightTrigger.value-e.leftTrigger.value,this.radius=Math.max(t.minRadius,Math.min(this.radius,t.maxRadius))),e.leftBumper.pressed&&e.rightBumper.pressed||(e.leftBumper.pressed?(this.currentAngle=(this.currentAngle-.1+2*Math.PI)%(2*Math.PI),null!==this.startAngle&&(this.netDistance-=.1,this.netDistance<this.leftDistance&&(this.leftDistance=this.netDistance))):e.rightBumper.pressed&&(this.currentAngle=(this.currentAngle+.1+2*Math.PI)%(2*Math.PI),null!==this.startAngle&&(this.netDistance+=.1,this.netDistance>this.rightDistance&&(this.rightDistance=this.netDistance)))),this.rightDistance-this.leftDistance>=2*Math.PI&&this.completeCircle(),e.view.pressed&&this.currentAngle},t.prototype.draw=function(t){switch(t.fillStyle=this.color,t.fillRect(this.x,this.y,this.sideLength,this.sideLength),t.fillStyle="orange",this.facing){case s.Direction.Up:t.fillRect(this.x,this.y,this.sideLength,10);break;case s.Direction.Down:t.fillRect(this.x,this.y+this.sideLength-10,this.sideLength,10);break;case s.Direction.Left:t.fillRect(this.x,this.y,10,this.sideLength);break;case s.Direction.Right:t.fillRect(this.x+this.sideLength-10,this.y,10,this.sideLength)}t.beginPath(),t.arc(this.x+this.sideLength/2,this.y+this.sideLength/2,this.radius,0,2*Math.PI),t.stroke(),null!==this.startAngle&&(t.fillStyle=this.color,t.beginPath(),t.arc(this.x+this.sideLength/2,this.y+this.sideLength/2,this.radius+4,this.startAngle+this.leftDistance,this.startAngle+this.rightDistance),t.arc(this.x+this.sideLength/2,this.y+this.sideLength/2,this.radius-4,this.startAngle+this.rightDistance,this.startAngle+this.leftDistance,!0),t.closePath(),t.fill()),null!==this.currentAngle&&(t.fillStyle="blue",t.beginPath(),t.arc(this.x+this.sideLength/2+Math.cos(this.currentAngle)*this.radius,this.y+this.sideLength/2+Math.sin(this.currentAngle)*this.radius,10,0,2*Math.PI),t.fill())},t.prototype.move=function(t,e){t*=this.speed,e*=this.speed;var i=Math.sqrt(t*t+e*e);i*i>this.speed*this.speed&&(t/=i/=this.speed,e/=i),this.x+=t,this.y+=e;var s=this.game.getCanvasSize(),n=s[0],r=s[1];this.x=Math.max(0,Math.min(this.x,n-this.sideLength)),this.y=Math.max(0,Math.min(this.y,r-this.sideLength))},t.prototype.completeCircle=function(){console.log("Circle completed!"),this.startAngle=this.currentAngle,this.leftDistance=0,this.rightDistance=0,this.netDistance=0},t.minRadius=50,t.maxRadius=200,t}();e.Player=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right"}(e.Direction||(e.Direction={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(5),n=i(6),r=i(7),h=function(){return function(t){this.gamepad=t,this.a=new s.ButtonInput("a",t,0),this.b=new s.ButtonInput("b",t,1),this.x=new s.ButtonInput("x",t,2),this.y=new s.ButtonInput("y",t,3),this.leftBumper=new s.ButtonInput("leftBumper",t,4),this.rightBumper=new s.ButtonInput("rightBumper",t,5),this.leftTrigger=new n.TriggerInput("leftTrigger",t,6),this.rightTrigger=new n.TriggerInput("rightTrigger",t,7),this.view=new s.ButtonInput("view",t,8),this.menu=new s.ButtonInput("menu",t,9),this.leftStick=new s.ButtonInput("leftStick",t,10),this.rightStick=new s.ButtonInput("rightStick",t,11),this.dUp=new s.ButtonInput("dUp",t,12),this.dDown=new s.ButtonInput("dDown",t,13),this.dLeft=new s.ButtonInput("dLeft",t,14),this.dRight=new s.ButtonInput("dRight",t,15),this.power=new s.ButtonInput("power",t,16),this.leftXAxis=new r.AxisInput("dDown",t,0),this.leftYAxis=new r.AxisInput("dLeft",t,1),this.rightXAxis=new r.AxisInput("dRight",t,2),this.rightYAxis=new r.AxisInput("power",t,3)}}();e.GamepadInputs=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){return function(t,e,i){this.name=t,this.gamepad=e,this.index=i,this.button=e.buttons[this.index],this.pressed=this.button.pressed}}();e.ButtonInput=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){return function(t,e,i){this.name=t,this.gamepad=e,this.index=i,this.value=0,this.button=e.buttons[this.index],this.value=this.button.value}}();e.TriggerInput=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){return function(t,e,i){this.name=t,this.gamepad=e,this.index=i,this.value=e.axes[this.index]}}();e.AxisInput=s}]);