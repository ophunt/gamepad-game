!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),n=document.getElementById("canvas"),h=new s.Game(n);window.onresize=h.setCanvasSize,h.main()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),n=i(4),h=i(8),r=function(){function t(t){var e=this;this.canvas=t,this.gameObjects=[],this.visibleObjects=[[],[],[]],this.getGamepad=function(){var t=navigator.getGamepads();t.length>0&&null!==t[0]&&(e.gamepad=t[0]),e.inputs=new n.GamepadInputs(e.gamepad)},this.updateInputs=function(){if(e.inputs){var t=navigator.getGamepads();return t.length>0&&null!==t[0]&&(e.gamepad=t[0]),e.inputs=new n.GamepadInputs(e.gamepad),!0}return!1},this.draw=function(){e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height);for(var t=0,i=e.visibleObjects;t<i.length;t++)for(var s=0,n=i[t];s<n.length;s++){n[s].draw(e.ctx)}},this.updateObjects=function(){if(e.updateInputs())for(var t=0,i=e.gameObjects;t<i.length;t++){i[t].update(e.inputs)}},this.gameLoop=function(){e.updateObjects(),e.draw(),requestAnimationFrame(e.gameLoop)},this.ctx=t.getContext("2d"),this.setCanvasSize(),this.player=new s.Player(50,50,"red",this),this.visibleObjects[2].push(this.player),this.gameObjects.push(this.player),this.enemy=new h.Enemy(400,400,"green",this),this.visibleObjects[1].push(this.enemy),this.gameObjects.push(this.enemy),window.addEventListener("gamepadconnected",function(){return e.getGamepad()})}return t.prototype.setCanvasSize=function(){this.canvas.width=window.innerWidth-10,this.canvas.height=window.innerHeight-10},t.prototype.main=function(){console.log("Game loaded!"),requestAnimationFrame(this.gameLoop)},t.prototype.getCanvasSize=function(){return[this.canvas.width,this.canvas.height]},t}();e.Game=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),n=function(){function t(t,e,i,s){this.x=t,this.y=e,this.color=i,this.game=s,this.sideLength=10,this.speed=3,this.boost=!0,this.boostPower=.5,this.radius=50,this.currentAngle=0,this.startAngle=null,this.netDistance=0,this.leftDistance=0,this.rightDistance=0}return t.prototype.update=function(e){if(e.a.pressed&&null===this.startAngle)this.startAngle=this.currentAngle;else if(e.a.pressed&&this.boost){this.boost=!1;var i=0;e.leftBumper.pressed?i=-1:e.rightBumper.pressed&&(i=1);var s=this.boostPower*i;this.currentAngle+=s,this.netDistance+=s,this.netDistance>this.rightDistance?this.rightDistance=this.netDistance:this.netDistance<this.leftDistance&&(this.leftDistance=this.netDistance)}else e.b.pressed&&null!==this.startAngle&&(this.startAngle=null,this.leftDistance=0,this.rightDistance=0,this.netDistance=0);e.a.pressed||(this.boost=!0),e.x.pressed?this.color="blue":e.y.pressed&&(this.color="red");var n=0,h=0;if(e.dUp.pressed?h--:e.dDown.pressed?h++:e.dRight.pressed?n++:e.dLeft.pressed?n--:(Math.abs(e.leftXAxis.value)>.15||Math.abs(e.leftYAxis.value)>.15)&&(Math.abs(e.leftXAxis.value)>.15&&(n=e.leftXAxis.value),Math.abs(e.leftYAxis.value)>.15&&(h=e.leftYAxis.value)),this.move(n,h),(e.leftTrigger.value>0||e.rightTrigger.value>0)&&(this.radius+=e.rightTrigger.value-e.leftTrigger.value,this.radius=Math.max(t.minRadius,Math.min(this.radius,t.maxRadius))),e.leftBumper.pressed&&e.rightBumper.pressed||(e.leftBumper.pressed?(this.currentAngle=(this.currentAngle-.1+2*Math.PI)%(2*Math.PI),null!==this.startAngle&&(this.netDistance-=.1,this.netDistance<this.leftDistance&&(this.leftDistance=this.netDistance))):e.rightBumper.pressed&&(this.currentAngle=(this.currentAngle+.1+2*Math.PI)%(2*Math.PI),null!==this.startAngle&&(this.netDistance+=.1,this.netDistance>this.rightDistance&&(this.rightDistance=this.netDistance)))),this.rightDistance-this.leftDistance>=2*Math.PI){i=e.leftBumper.pressed?"left":"right";this.completeCircle(i)}e.view.pressed&&this.currentAngle},t.prototype.draw=function(t){t.fillStyle=this.color,t.beginPath(),t.arc(this.x,this.y,this.sideLength,0,2*Math.PI),t.fill(),t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.stroke(),null!==this.startAngle&&(t.fillStyle=this.color,t.beginPath(),t.arc(this.x,this.y,this.radius+4,this.startAngle+this.leftDistance,this.startAngle+this.rightDistance),t.arc(this.x,this.y,this.radius-4,this.startAngle+this.rightDistance,this.startAngle+this.leftDistance,!0),t.closePath(),t.fill()),null!==this.currentAngle&&(t.fillStyle="blue",t.beginPath(),t.arc(this.x+Math.cos(this.currentAngle)*this.radius,this.y+Math.sin(this.currentAngle)*this.radius,10,0,2*Math.PI),t.fill())},t.prototype.move=function(t,e){t*=this.speed,e*=this.speed;var i=Math.sqrt(t*t+e*e);i*i>this.speed*this.speed&&(t/=i/=this.speed,e/=i),this.x+=t,this.y+=e;var s=this.game.getCanvasSize(),n=s[0],h=s[1];this.x=Math.max(0,Math.min(this.x,n-this.sideLength)),this.y=Math.max(0,Math.min(this.y,h-this.sideLength))},t.prototype.completeCircle=function(t){console.log("Circle completed!"),this.startAngle="left"===t?(this.startAngle+this.rightDistance)%(2*Math.PI):(this.startAngle+this.leftDistance)%(2*Math.PI),this.currentAngle=this.startAngle,this.leftDistance=0,this.rightDistance=0,this.netDistance=0},t.prototype.isInCircle=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=new s.Point(this.x,this.y),n=0,h=t;n<h.length;n++){if(h[n].distFrom(i)>this.radius)return!1}return!0},t.minRadius=50,t.maxRadius=200,t}();e.Player=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.distFrom=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t}();e.Point=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(5),n=i(6),h=i(7),r=function(){return function(t){this.gamepad=t,this.a=new s.ButtonInput("a",t,0),this.b=new s.ButtonInput("b",t,1),this.x=new s.ButtonInput("x",t,2),this.y=new s.ButtonInput("y",t,3),this.leftBumper=new s.ButtonInput("leftBumper",t,4),this.rightBumper=new s.ButtonInput("rightBumper",t,5),this.leftTrigger=new n.TriggerInput("leftTrigger",t,6),this.rightTrigger=new n.TriggerInput("rightTrigger",t,7),this.view=new s.ButtonInput("view",t,8),this.menu=new s.ButtonInput("menu",t,9),this.leftStick=new s.ButtonInput("leftStick",t,10),this.rightStick=new s.ButtonInput("rightStick",t,11),this.dUp=new s.ButtonInput("dUp",t,12),this.dDown=new s.ButtonInput("dDown",t,13),this.dLeft=new s.ButtonInput("dLeft",t,14),this.dRight=new s.ButtonInput("dRight",t,15),this.power=new s.ButtonInput("power",t,16),this.leftXAxis=new h.AxisInput("dDown",t,0),this.leftYAxis=new h.AxisInput("dLeft",t,1),this.rightXAxis=new h.AxisInput("dRight",t,2),this.rightYAxis=new h.AxisInput("power",t,3)}}();e.GamepadInputs=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){return function(t,e,i){this.name=t,this.gamepad=e,this.index=i,this.button=e.buttons[this.index],this.pressed=this.button.pressed}}();e.ButtonInput=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){return function(t,e,i){this.name=t,this.gamepad=e,this.index=i,this.value=0,this.button=e.buttons[this.index],this.value=this.button.value}}();e.TriggerInput=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){return function(t,e,i){this.name=t,this.gamepad=e,this.index=i,this.value=e.axes[this.index]}}();e.AxisInput=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),n=function(){function t(t,e,i,s){this.x=t,this.y=e,this.color=i,this.game=s,this.sideLength=100,this.health=100,this.maxHealth=100}return t.prototype.update=function(){this.health<=0&&this.kill()},t.prototype.draw=function(t){t.fillStyle="red",t.fillRect(this.x-this.sideLength/2,this.y-this.sideLength/2,this.sideLength,this.sideLength),t.fillStyle=this.color;var e=this.sideLength*this.health/this.maxHealth;t.fillRect(this.x-e/2,this.y-e/2,e,e)},t.prototype.getPoints=function(){return[new s.Point(this.x-this.sideLength/2,this.y-this.sideLength/2),new s.Point(this.x+this.sideLength/2,this.y-this.sideLength/2),new s.Point(this.x-this.sideLength/2,this.y+this.sideLength/2),new s.Point(this.x+this.sideLength/2,this.y+this.sideLength/2)]},t.prototype.kill=function(){},t}();e.Enemy=n}]);